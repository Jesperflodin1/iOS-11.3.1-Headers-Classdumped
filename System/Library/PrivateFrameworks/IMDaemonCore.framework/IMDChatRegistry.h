/*
* This header is generated by classdump-dyld 1.0
* on Wednesday, August 22, 2018 at 12:22:20 AM Central European Summer Time
* Operating System: Version 11.3.1 (Build 15E302)
* Image Source: /System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/


#import <IMDaemonCore/IMDaemonCore-Structs.h>
@class NSRecursiveLock, NSMutableDictionary, NSCache, IMDMessageProcessingController, IMDMessageHistorySyncController, IMDCNPersonAliasResolver, NSArray;

@interface IMDChatRegistry : NSObject {

	NSRecursiveLock* _chatsLock;
	NSMutableDictionary* _chats;
	BOOL _isLoading;
	BOOL _doneLoadingAfterMerge;
	NSCache* _allChatsByIDCache;
	NSMutableDictionary* _chatsByGroupID;
	IMDMessageProcessingController* _messageProcessingController;
	IMDMessageHistorySyncController* _messageHistorySyncController;

}

@property (nonatomic,readonly) IMDCNPersonAliasResolver * cnaliasResolver; 
@property (nonatomic,readonly) IMDMessageProcessingController * messageProcessingController;                //@synthesize messageProcessingController=_messageProcessingController - In the implementation block
@property (nonatomic,readonly) IMDMessageHistorySyncController * messageHistorySyncController;              //@synthesize messageHistorySyncController=_messageHistorySyncController - In the implementation block
@property (nonatomic,readonly) NSArray * chats; 
+(id)sharedInstance;
-(id)init;
-(void)dealloc;
-(void)removeChat:(id)arg1 ;
-(void)systemDidUnlock;
-(void)systemDidLeaveFirstDataProtectionLock;
-(id)existingChatWithGUID:(id)arg1 ;
-(NSArray *)chats;
-(BOOL)updateProperties:(id)arg1 chat:(id)arg2 style:(unsigned char)arg3 ;
-(void)updateLastMessageForChat:(id)arg1 hintMessage:(id)arg2 ;
-(void)updateStateForChat:(id)arg1 fromMessage:(id)arg2 toMessage:(id)arg3 forcePost:(BOOL)arg4 hintMessage:(id)arg5 ;
-(id)existingChatsForIDs:(id)arg1 onService:(id)arg2 style:(unsigned char)arg3 ;
-(void)removeMessage:(id)arg1 fromChat:(id)arg2 ;
-(BOOL)_isUsingStingRay;
-(void)_forceReloadChats:(BOOL)arg1 ;
-(id)existingChatForID:(id)arg1 account:(id)arg2 ;
-(void)addChat:(id)arg1 ;
-(id)existingChatWithIdentifier:(id)arg1 account:(id)arg2 ;
-(id)existingChatForRoom:(id)arg1 account:(id)arg2 ;
-(id)existingChatForIDs:(id)arg1 account:(id)arg2 displayName:(id)arg3 groupID:(id)arg4 style:(unsigned char)arg5 ;
-(void)updateLastMessageForChat:(id)arg1 hintMessage:(id)arg2 historyQuery:(BOOL)arg3 ;
-(BOOL)updateUnreadCountForChat:(id)arg1 ;
-(void)__removeChatFromGroupIDChatIndex:(id)arg1 ;
-(void)__addChatToGroupIDChatIndex:(id)arg1 ;
-(void)addChat:(id)arg1 firstLoad:(BOOL)arg2 ;
-(void)_populateCNRecordIDForHandles:(id)arg1 withCompletion:(/*^block*/id)arg2 ;
-(void)updateStateForChat:(id)arg1 hintMessage:(id)arg2 ;
-(void)addMessage:(id)arg1 toChat:(id)arg2 deferSpotlightIndexing:(BOOL)arg3 ;
-(id)_chatInfoInRange:(NSRange)arg1 ;
-(id)_allChatInfo;
-(BOOL)loadChatsWithCompletionBlock:(/*^block*/id)arg1 ;
-(BOOL)_saveChats;
-(BOOL)repairDuplicateChatsIfNeeded;
-(void)startHandleIDPopulation;
-(id)allExistingChatsWithIdentifier:(id)arg1 style:(unsigned char)arg2 ;
-(void)_makeAllAttachmentsClassC;
-(NSArray*)_createGroupChatsArray;
-(NSArray*)findDuplicateUnnamedGroups:(NSArray*)arg1 ;
-(void)updateGroupIDForChat:(id)arg1 newGroupID:(id)arg2 ;
-(BOOL)_chat:(id)arg1 isDuplicateOfChat:(id)arg2 ;
-(NSArray*)findDuplicateChats:(NSArray*)arg1 ;
-(id)_findChatWinnerInDuplicateChatArray:(NSArray*)arg1 ;
-(id)_findLosingChatGUIDsInArrayOfChats:(NSArray*)arg1 withWinner:(id)arg2 ;
-(BOOL)_updateDuplicateUnnamedGroupsWithNewGroupIDIfNeeded;
-(BOOL)_mergeDuplicateGroupsIfNeeded;
-(id)_aliasToHandlesMap:(id)arg1 ;
-(IMDCNPersonAliasResolver *)cnaliasResolver;
-(id)_allHandles;
-(id)groupChatsBasedOnIdentity;
-(id)_existingChatWithOriginalGroupID:(id)arg1 onService:(id)arg2 ;
-(id)existingChatsWithGroupID:(id)arg1 ;
-(id)_existingChatForCKRecord:(id)arg1 ;
-(void)_markForksAsSyncedForChat:(id)arg1 ;
-(void)_insertChatUsingCKRecord:(id)arg1 ;
-(void)processMessageUsingCKRecord:(id)arg1 updatedLastMessageCount:(int)arg2 ;
-(id)_lookupChatUsingID:(id)arg1 ;
-(void)addItem:(id)arg1 toChat:(id)arg2 ;
-(id)chatForHandle:(id)arg1 account:(id)arg2 chatIdentifier:(id)arg3 guid:(id)arg4 ;
-(id)chatForHandles:(id)arg1 account:(id)arg2 chatIdentifier:(id)arg3 style:(unsigned char)arg4 groupID:(id)arg5 displayName:(id)arg6 guid:(id)arg7 ;
-(id)chatForRoom:(id)arg1 account:(id)arg2 chatIdentifier:(id)arg3 guid:(id)arg4 ;
-(id)existingChatWithEngramID:(id)arg1 ;
-(id)existingChatForIDs:(id)arg1 account:(id)arg2 style:(unsigned char)arg3 ;
-(void)updateStateForChat:(id)arg1 forcePost:(BOOL)arg2 ;
-(void)removeItem:(id)arg1 fromChat:(id)arg2 ;
-(void)addMessage:(id)arg1 toChat:(id)arg2 ;
-(id)_chatInfoForConnection;
-(id)_chatInfoForNumberOfChats:(long long)arg1 ;
-(id)_chatInfoForSaving;
-(BOOL)saveChats;
-(id)personCentricGroupedChatsDictionary;
-(id)chatsToUploadToCloudKitWithLimit:(unsigned long long)arg1 isUsingStingRay:(BOOL)arg2 ;
-(void)updateChatWithGUID:(id)arg1 serverChangeToken:(id)arg2 recordID:(id)arg3 ;
-(void)updateChatUsingCKRecord:(id)arg1 ;
-(void)markChatAsDeferredForSyncingUsingCKRecord:(id)arg1 ;
-(void)markDefferredChatsAsNeedingSync;
-(void)resetChatSyncStateForRecord:(id)arg1 ;
-(id)messagesToUploadToCloudKitWithLimit:(unsigned long long)arg1 ;
-(void)processMessageUsingCKRecord:(id)arg1 ;
-(id)copyRecordIDsAndGUIDsPendingCloudKitDelete;
-(void)clearPendingDeleteTable;
-(BOOL)isBeingSetup;
-(id)_existingiMessageChatForChatIdentifier:(id)arg1 style:(unsigned char)arg2 ;
-(IMDMessageProcessingController *)messageProcessingController;
-(IMDMessageHistorySyncController *)messageHistorySyncController;
@end

